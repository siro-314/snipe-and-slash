# SNIPE & SLASH 開発日記

**プロジェクト開始**: 2025年12月中旬  
**本番URL**: https://playful-concha-6af59f.netlify.app  
**GitHub**: https://github.com/siro-314/snipe-and-slash

---

## 2025年12月中旬

- プロジェクト始動
- 技術選定: A-Frame + WebXR
- VRリグ実装
- 基本的な剣攻撃システム
- 白ドローン（球体）実装
- HUD表示（キル数・被弾数・時間）

---

## 2025年12月下旬

- 剣⇔弓の切り替え機構実装
- Box3による高精度接触判定
- 白ドローン: プレイヤー追尾 + 射撃
- 黒ドローン: カクカク移動 → タメ → 爆発
- 判定バグ対策: 3秒ディレイ + 巨大Box3無視ロジック

---

## 2026年1月上旬

- Blenderで3Dモデル作成
  - sword.glb（剣⇔弓変形ギミック）
  - drone_white.glb
  - drone_black.glb
- ModelManager実装（疎結合設計）
- フォールバック機構（ロード失敗時は自動的にBox/Sphereで代替）

---

## 2026年1月中旬

- 背景色を水色 → マゼンタに変更
- 宇宙船風ステージ（水色グリッドの床）
- スタート画面実装
- クリア画面実装（スコア計算: キル×100 - 被弾×50 - 時間×2）

---

## 2026年1月下旬

- コードリファクタリング
  - GameState: グローバル状態管理の明確化
  - コンポーネント分離（sword, enemy-ai, bullet, weapon-controller）
- Quest対応テスト完了

---

## 2026年1月31日

- **Netlifyデプロイ完了**
- 本番環境公開
- PC/Quest両方でテスト → OK

---

## 2026年2月10日

### Geminiでの失敗とClaudeへの回帰
- Antigravityで新機能追加を試みたが、期待した成果が得られず
- Claudeに戻る決断

### TypeScriptリファクタリング開始
- **Phase 0**: 計画書作成（REFACTORING_PLAN.md）
- **Phase 1**: TypeScript環境構築（Vite導入）
- **Phase 2**: ファイル分割（468行の新規コード作成）
  - GameStateManager, ModelManager, HUDManager, Helpers
  - Gitコミット: `phase-2-complete`
- **Phase 3**: クラス化・依存性注入
  - main.ts: 1268行 → 1193行（75行削減）
  - 互換性ラッパー削除完了
  - ビルドサイズ: 243.18kB (gzipped 66.06kB)
  - Gitコミット: `phase-3-complete` (commit 75778f2)
  - GitHubプッシュ完了

### 引き継ぎシステム構築
- `HANDOVER.md`: Claude用の技術仕様書
- `開発日記.md`: 人間が読む時系列記録（このファイル）

---

## 2026年2月11日

- **Phase 5**: VR実機確認（進行中）
  - Quest 2でテスト予定
  - チェックリスト作成

---

**最終更新**: 2026-02-11  
**総開発期間**: 約2ヶ月  
**現在のコード行数**: 1193行（main.ts）  
**ステータス**: Phase 5（VR実機確認中）
